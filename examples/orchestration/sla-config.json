{
  "pipelines": [
    {
      "name": "daily_aggregation",
      "description": "Daily aggregation pipeline for analytics",
      "critical": true,
      "completion_time_sla": {
        "target_duration_minutes": 60,
        "lookback_hours": 24
      }
    },
    {
      "name": "hourly_events_processing",
      "description": "Hourly event stream processing",
      "critical": true,
      "completion_time_sla": {
        "target_duration_minutes": 15,
        "lookback_hours": 24
      }
    },
    {
      "name": "weekly_reporting",
      "description": "Weekly executive reporting",
      "critical": false,
      "completion_time_sla": {
        "target_duration_minutes": 120,
        "lookback_hours": 168
      }
    }
  ],
  "tables": [
    {
      "table_id": "your_project.analytics.fct_orders",
      "description": "Orders fact table",
      "critical": true,
      "freshness_sla": {
        "timestamp_column": "created_at",
        "max_age_hours": 2
      },
      "quality_sla": {
        "description": "Check for orders with null customer_id",
        "query": "SELECT COUNT(*) as total_rows, COUNTIF(customer_id IS NULL) as failed_rows FROM `your_project.analytics.fct_orders` WHERE DATE(created_at) = CURRENT_DATE()",
        "max_failure_rate": 0.001
      },
      "availability_sla": {
        "target_availability": 99.9,
        "lookback_hours": 24
      }
    },
    {
      "table_id": "your_project.analytics.dim_customers",
      "description": "Customer dimension table",
      "critical": false,
      "freshness_sla": {
        "timestamp_column": "updated_at",
        "max_age_hours": 24
      }
    },
    {
      "table_id": "your_project.staging.stg_events",
      "description": "Staging events - real-time ingestion",
      "critical": true,
      "freshness_sla": {
        "timestamp_column": "event_timestamp",
        "max_age_hours": 1
      },
      "quality_sla": {
        "description": "Check for events with invalid timestamps",
        "query": "SELECT COUNT(*) as total_rows, COUNTIF(event_timestamp > CURRENT_TIMESTAMP() OR event_timestamp < TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 7 DAY)) as failed_rows FROM `your_project.staging.stg_events` WHERE DATE(event_timestamp) = CURRENT_DATE()",
        "max_failure_rate": 0.01
      }
    },
    {
      "table_id": "your_project.marts.revenue_daily",
      "description": "Daily revenue aggregations",
      "critical": true,
      "freshness_sla": {
        "timestamp_column": "report_date",
        "max_age_hours": 24
      },
      "quality_sla": {
        "description": "Check for negative revenue values",
        "query": "SELECT COUNT(*) as total_rows, COUNTIF(revenue < 0) as failed_rows FROM `your_project.marts.revenue_daily` WHERE report_date >= DATE_SUB(CURRENT_DATE(), INTERVAL 7 DAY)",
        "max_failure_rate": 0.0
      }
    }
  ]
}
